

<!doctype html>

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Дополнительные материалы: &#8212; документация Интеграция Artix-УНФ 0.2</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/translations.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
    <link rel="next" title="Файлы" href="files.html" />
    <link rel="prev" title="Добавление группы сертификатов со сроком действия через REST API." href="sert.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Алфавитный указатель"
             accesskey="I">указатель</a></li>
        <li class="right" >
          <a href="files.html" title="Файлы"
             accesskey="N">вперёд</a> |</li>
        <li class="right" >
          <a href="sert.html" title="Добавление группы сертификатов со сроком действия через REST API."
             accesskey="P">назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">документация Интеграция Artix-УНФ 0.2</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="setting.html" accesskey="U">Настройки</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Дополнительные материалы:</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="id1">
<h1>Дополнительные материалы:<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h1>
<section id="id2">
<h2>1. Список директорий и файлов  основных настроек.<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><dl class="simple">
<dt>/linuxcash/cash/conf/</dt><dd><ol class="arabic simple">
<li><p>ncash.ini - основной файл настроек</p></li>
<li><p>bcode.ini  - правила разбора ШК</p></li>
<li><p>frinit.conf - инициализация ФР</p></li>
<li><p>cliche.txt и tail.txt - Клише/подвал чека</p></li>
<li><p>artixsb.conf</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>/linuxcash/cash/conf/ncash.ini.d/</dt><dd><ol class="arabic simple">
<li><p>artixbonus.ini - работа с бонусным сервером</p></li>
<li><p>artixcertificate.ini</p></li>
<li><p>deferredcheck.ini - отложенные чеки</p></li>
<li><p>fr.ini</p></li>
<li><p>gui.ini - выбор интерфейса ПО</p></li>
<li><p>motp.ini - сигареты</p></li>
<li><p>markedgoods.ini - другая маркировка</p></li>
</ol>
</dd>
</dl>
</li>
<li><p>/linuxcash/cash/conf/drivers/ - Настройки подключения оборудования</p></li>
</ol>
<p>Сначала настраивается одна ПОС, полученные настройки используем как эталонные. После установки ПО на новую ПОС копируем настройки,
включая “Подключаемое оборудование”, проверяем и при необходимости вносим правки.</p>
</section>
<section id="id3">
<h2>2. Особенности настройки “Сбербанк”<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h2>
<p>Для работы с процессингом сбербанк необходимо установить пакет - <em>artix45-plugin-sb</em>.
В директорию <strong>”/linuxcash/cash/paysystems/sb/“</strong> разместить файлы приложения сбербанк полученного от сотрудников банка. Настроить подключение ПинПад согласно инструкции банка (pinpad.ini). Следует обратить внимание что при подключении пинпад через USB, необходимо правильно создать символьную ссылку на устройство:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">serial</span><span class="o">/</span><span class="n">by</span><span class="o">-</span><span class="nb">id</span><span class="o">/</span><span class="p">{</span><span class="n">Имя_Устройства</span><span class="p">}</span> <span class="o">/</span><span class="n">linuxcash</span><span class="o">/</span><span class="n">cash</span><span class="o">/</span><span class="n">paysystems</span><span class="o">/</span><span class="n">sb</span><span class="o">/</span><span class="n">ttyS99</span>
</pre></div>
</div>
<p>Для работы с терминалом PAX SP30 - дополнительно установить пакет <em>ttypos</em></p>
</section>
<section id="yuki">
<h2>3. Ссылка на скачивание дистрибутива yuki<a class="headerlink" href="#yuki" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p><a class="reference external" href="http://update.artix.su/static/yuki/">http://update.artix.su/static/yuki/</a></p>
</div></blockquote>
</section>
<section id="id4">
<h2>4. Остатки<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<p>в конфигурационном файле /linuxcash/cash/conf/ncash.ini
Изменить:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">;</span><span class="n">calculateRemainsOfGoods</span> <span class="o">=</span> <span class="n">false</span>
<span class="o">.....</span>
<span class="p">;</span><span class="n">considerRemainsOfGoods</span> <span class="o">=</span> <span class="n">false</span>
</pre></div>
</div>
<p>на:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">calculateRemainsOfGoods</span> <span class="o">=</span> <span class="n">true</span>
<span class="o">.....</span>
<span class="n">considerRemainsOfGoods</span> <span class="o">=</span> <span class="n">true</span>
</pre></div>
</div>
<p>После изменения настроек надо перезапустить кассовое По.
Тогда касса будет считать остатки и учитывать их при продажи</p>
<p>Для товара, у которого не нужно контролировать остатки (кулинария) при выгрузке не указываем дату остатков - <em>remaindate</em>, а поле <em>remain</em>
оставляем <strong>пустым!!!</strong> (не «0»!!!).</p>
</section>
<section id="id5">
<h2>5. Дисконтные карты (создание)<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><ol class="arabic simple">
<li><p>создать счет на бонусном сервере</p></li>
<li><p>привязать номер карты к счету</p></li>
<li><p>создать карту на кассовом сервере (группа должна быть создана заранее)</p></li>
</ol>
<p>1 и 2 это работа с апи бонусного сервера</p>
<p>3 это работа с файлом аиф, или через рестапи загрузки справочников с Кассовым севером.</p>
<p><a class="reference external" href="https://docs.artix.su/pages/viewpage.action?pageId=27530936">https://docs.artix.su/pages/viewpage.action?pageId=27530936</a></p>
</div></blockquote>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Оглавление</a></h3>
<p class="caption" role="heading"><span class="caption-text">Содержание:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="description.html">Общее описание</a></li>
<li class="toctree-l1"><a class="reference internal" href="unf.html">Реализация в УНФ</a></li>
<li class="toctree-l1"><a class="reference internal" href="prox.html">Внешняя программма</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="setting.html">Настройки</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Файлы</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Быстрый поиск</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Искать" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Алфавитный указатель"
             >указатель</a></li>
        <li class="right" >
          <a href="files.html" title="Файлы"
             >вперёд</a> |</li>
        <li class="right" >
          <a href="sert.html" title="Добавление группы сертификатов со сроком действия через REST API."
             >назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">документация Интеграция Artix-УНФ 0.2</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="setting.html" >Настройки</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Дополнительные материалы:</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, PashkovKV.
    </div>
  </body>
</html>