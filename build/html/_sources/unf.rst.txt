Реализация в УНФ
================

Функционал работы с Artix со стороны УНФ реализован с помощью:

#. Подписки на события для документов товародвижения:

     #) Поступление товаров 
     #) Списание товаров 
     #) Оприходование товаров 
     #) Перемещение товаров ?
     #) Возврат товаров поставщику
     #) Отчет о розничных продажах ?
     
#. Http-сервисы:
     
     
     :ref:`1. Http-сервис Workshift`

     :ref:`2. GetChangeShop`

     :ref:`3. GetProductRemains`


#. Фоновых заданий и обработок

     Обработка поформированию ОРП подключается в дополнительные обработки и для нее настраивается расписание запуска.
     Обоаботка ищет непроведенные документы ОРП, которые связаны с документом "Кассовая смена", со статусом "Закрыта". 
     И выполняет заполнение этих документов продажами из таблиц базы данных "Кассового сервера" Artix, подключенными в программу, как
     внешние источники данных.

Настройки публикации базы

.. figure:: images/web.png


.. note::
 Подумать о перемещении и Отчете о розничных продажах, нужно ли менять остатки на касссых после их проведения    


.. todo:: Дописать подписки на события для остальных документов, кроме поступления


.. :doc:`http1`     