Внешняя программма
==================


Внешняя программа реализована на языке Python и расположена на отдельном сервере с установленной серверной операционной системой Linux
Ubuntu 22.04.2 LTS (GNU/Linux 5.15.0-69-generic x86_64)


Программа состоит из двух блоков, первый отвечает за получение остатков товаров из обработки и передачи на кассовый сервер Artix,
второй за отслеживание открытия и закрытия смен на кассах и переодической передачи этих данных в УНФ.

**Общее описание**

:ref:`1. Установка и настройка`


Программа стартует с блока "main". При старте проверяется наличие конфигурационного файла :ref:`strset` и 
в случае его отсутствия прошрамма завершает свою работу выводя соообщения в файл логов. Если 
файл настроек прочитан, то вызывается функция "main" и программа начинает работу.

.. code-block:: Python

    m_conf = m_config.m_Config()   
    rc =  m_conf.loadConfig()
    if not rc == None:
        main()
    else:
        logger.error('Configuration file not found')
        logger.info('The program has finished its work')

Вначале происходит работа с кассовыми сменами

:ref:`2. Кассовые смены`

После обработки кассовых смен, выполняется проверка и при необходимости загрузка остатков.

:ref:`3. Работа с остатками`











